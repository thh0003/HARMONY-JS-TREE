<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport"    content="width=device-width, initial-scale=1.0">
	<meta name="description" content="Canvas Tree">
	<meta name="author"      content="Trevor Holmes (pgesoftware.com">
	
	<title>Tree</title>

</head>
<body>
    <h1 class="title">HTML5 Tree (IE10+)</h1>
    <div id="treeBox">
        <canvas id="tree" width="400px" height="400px"></canvas>
    </div>
    <script type="text/javascript" src="./canvasObj.js"></script>
    <script type="text/javascript" src="./canvasNode.js"></script>
    <script type="text/javascript" src="./canvasFactory.js"></script>
    <script>
        var treeData = [  {
    "CODEID":"8456",
    "CODEParentID":null,
    "CODEVal":"8456",
    "CODETxt":"(Root)",
    "CODEIcon":"folder"
  },
  {
    "CODEID":"8457",
    "CODEParentID":"8456",
    "CODEVal":"8457",
    "CODETxt":"2016",
    "CODEIcon":"folder"
  },
  {"CODEID":"10231","CODEParentID":"20627","CODEVal":"10231","CODETxt":"07 July","CODEIcon":"folder"},
  {"CODEID":"20627","CODEParentID":"8456","CODEVal":"20627","CODETxt":"2017","CODEIcon":"folder"},
  {"CODEID":"21124","CODEParentID":"20627","CODEVal":"21124","CODETxt":"03 March","CODEIcon":"folder"},
  {"CODEID":"21168","CODEParentID":"20627","CODEVal":"21168","CODETxt":"04 April","CODEIcon":"folder"},
  {"CODEID":"21527","CODEParentID":"20627","CODEVal":"21527","CODETxt":"06 June","CODEIcon":"folder"},
  {"CODEID":"22304","CODEParentID":"20627","CODEVal":"22304","CODETxt":"10 October","CODEIcon":"folder"}
]

    var locationObj = {
        originx:0,
        originy:0,
        dx:0,
        dy:0
    }
    var renderInfoObj = {
        length: 32,
        height: 16,
        CODEIcon: "folder"
    }
    var canvas = document.getElementById("tree");

    var canvasFac = new canvasFactory();
    var node = canvasFac.getCanvasObj ('NODE', locationObj, renderInfoObj, canvas)
    console.log(`Node Type: ${node.getCNodeType()} Node State: ${node.getCNodeState()}`);
    node.setCNodeType('NODE');
    node.coRender();
    canvas.addEventListener('click', function(e) {
        console.log(e);
        node.toggleCNodeState();
    });

    
    
    console.log(`Node Type: ${node.getCNodeType()} Node State: ${node.getCNodeState()}`);
//    var harmonyTree = new tree(treeData, locationObj, canvas);

    function onTreeLoad() {
        var canvas = document.getElementById("tree");
        console.log(document.getElementById("tree"));
        var ctx = canvas.getContext("2d");
        ctx.fillRect(0, 0, 150, 75);
        ctx.moveTo(0, 0);
        ctx.lineTo(200, 100);
        ctx.stroke();
        ctx.beginPath();
        ctx.arc(95, 50, 40, 0, 2 * Math.PI);
        ctx.stroke();
        ctx.font = "30px Arial";
        ctx.fillText("Hello World", 10, 50);
        ctx.strokeText("Hello World", 10, 50);
        var img = document.getElementById("folder");
        ctx.drawImage(img, 100, 10);
    }
    </script>
</body>
</html>
